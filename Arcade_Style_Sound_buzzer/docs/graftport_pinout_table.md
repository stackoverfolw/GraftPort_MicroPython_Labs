# GraftPort-RP2040 引脚映射表（graftport_pinout_table.md）

![GraftPort-RP2040实物图](graftport_rp2040_board_front.png)

## 目录
- [1. 固定硬件引脚映射](#1-固定硬件引脚映射)
- [2. SD卡SPI接口配置](#2-sd卡spi接口配置)
- [3. 外设接口引脚映射](#3-外设接口引脚映射)
  - [3.1 I2C接口](#31-i2c接口)
  - [3.2 UART接口](#32-uart接口)
  - [3.3 数字IO（DIO）接口](#33-数字io-dio-接口)
  - [3.4 ADC接口](#34-adc接口)
- [4. 板级默认配置](#4-板级默认配置)
- [5. 常用函数使用示例](#5-常用函数使用示例)

## 1. 固定硬件引脚映射
该部分引脚为板载硬件的固定连接，不可更改，主要包括板载USB转TTL、LED、用户按键等功能。

| 功能名称          | 引脚编号 | 备注说明                  |
|-------------------|----------|---------------------------|
| UART0_TX          | 0        | 板载USB转TTL的UART发送引脚 |
| UART0_RX          | 1        | 板载USB转TTL的UART接收引脚 |
| LED               | 25       | 板载状态指示灯引脚        |
| BUTTON            | 18       | 用户可触发的物理按键引脚  |
| WATCHDOG_WDI      | 22       | 看门狗（WDG）的WDI引脚    |


## 2. SD卡SPI接口配置
SD卡接口采用SPI通信协议，引脚配置固定，支持板载SD卡功能。

| 配置项   | 数值/引脚 | 备注说明                  |
|----------|-----------|---------------------------|
| SPI_ID   | 1         | 所使用的SPI控制器编号     |
| SCLK     | 10        | SPI时钟引脚               |
| MOSI     | 11        | SPI主机输出、从机输入引脚 |
| MISO     | 12        | SPI主机输入、从机输出引脚 |
| CS       | 13        | SPI片选引脚（低电平有效） |


## 3. 外设接口引脚映射
该部分接口为可扩展外设接口，支持连接外部传感器、模块等设备，按接口类型分类如下。

### 3.1 I2C接口
支持2路I2C接口，可用于连接I2C协议外设（如温湿度传感器、OLED屏等）。

| I2C编号 | SDA引脚 | SCL引脚 | 备注说明                  |
|---------|---------|---------|---------------------------|
| I2C0    | 4       | 5       | 第1路I2C接口              |
| I2C1    | 2       | 3       | 第2路I2C接口              |


### 3.2 UART接口
支持2路UART接口，可用于串口通信（如连接GPS模块、蓝牙模块等）。

| UART编号 | TX引脚 | RX引脚 | 备注说明                  |
|----------|--------|--------|---------------------------|
| UART0    | 16     | 17     | 第1路UART通信接口         |
| UART1    | 8      | 9      | 第2路UART通信接口         |


### 3.3 数字IO（DIO）接口
支持2组数字IO接口，每组包含2个独立数字引脚，可用于数字信号输入/输出（如控制继电器、读取按键状态等）。

| DIO编号 | 引脚组合       | 备注说明                  |
|---------|----------------|---------------------------|
| DIO0    | (6, 7)         | 包含DIO0_PIN（6）、DIO1_PIN（7） |
| DIO1    | (14, 15)       | 包含DIO2_PIN（14）、DIO3_PIN（15） |


### 3.4 ADC接口
支持3路ADC（模拟-数字转换）接口，每路包含1个ADC引脚和1个数字IO引脚，可用于采集模拟信号（如电压、光照强度等）。

| ADC编号 | 引脚组合         | 备注说明                          |
|---------|------------------|-----------------------------------|
| ADC0    | (26, 19)         | 包含ADC0_PIN（26）、DIO6_PIN（19） |
| ADC1    | (27, 20)         | 包含ADC1_PIN（27）、DIO5_PIN（20） |
| ADC2    | (28, 21)         | 包含ADC2_PIN（28）、DIO4_PIN（21） |


## 4. 板级默认配置
该部分为开发板的默认运行参数，可通过代码接口修改，适用于快速初始化外设。

| 配置项           | 默认值    | 备注说明                          |
|------------------|-----------|-----------------------------------|
| I2C_FREQ         | 400000    | I2C接口默认通信频率（400kHz，高速模式） |
| UART_BAUD        | 115200    | UART接口默认波特率                |
| LED_ACTIVE_LOW   | False     | 板载LED默认高电平点亮（非低电平有效） |
| HAS_SD           | True      | 板载SD卡功能默认使能              |

## 5. 常用函数使用示例
从 board.py 获取引脚信息，示例代码如下：
```python
from board import get_fixed_pin, get_i2c_pins, get_uart_pins, get_sd_spi_config, get_adc_pins, get_default_config

# 固定引脚
led_pin = get_fixed_pin("LED")          # -> 25
btn_pin = get_fixed_pin("BUTTON")       # -> 18

# I2C0 SDA/SCL
sda, scl = get_i2c_pins(0)              # -> (4, 5)

# UART1 TX/RX
tx, rx = get_uart_pins(1)               # -> (8, 9)

# SD SPI 配置
sd_spi = get_sd_spi_config()            # -> dict with SCLK/MOSI/MISO/CS

# ADC0 引脚组
adc0 = get_adc_pins(0)                  # -> (26, 19)

# 默认值
i2c_freq = get_default_config("I2C_FREQ")   # -> 400000
uart_baud = get_default_config("UART_BAUD") # -> 115200

```